const translations = {
  pt: {
    "meta-title": "Descomplica DEV Na Gringa | Treinamento Carreira Internacional",
    "meta-description": "Treinamento para DEVs Seniores conquistarem vagas internacionais em dólar/euro. Método validado em entrevistas reais.",
    "cta-link": "https://pay.hotmart.com/G101388470S",
    "nav-home": "Início",
    "nav-method": "O Método",
    "nav-mentor": "Mentor",
    "nav-faq": "FAQ",
    "nav-cta": "Garantir Vaga",
    "hero-badge": "Não é Sorte. São dados, evidências e provas reais, auditáveis e replicáveis.",
    "hero-title": "Seu Código Vale <br /><span class='text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-600'>Dólar ou Euro</span>",
    "hero-subtitle": "Não existe 'eu acho'. Existe o que aprova. Acesse o único método baseado em um <strong>banco de dados de 5 anos de entrevistas gravadas</strong> e auditáveis para QA, iOS, DevOps e Fullstack.",
    "hero-cta-primary": "Quero Acessar o Treinamento",
    "hero-cta-secondary": "Ver as Provas",
    "section-problem-title": "Pare de Jogar o Jogo da Adivinhação.",
    "section-problem-text": "Enquanto você tenta descobrir o que o recrutador quer ouvir, meus alunos têm o <strong>gabarito</strong>. A diferença entre quem passa e quem trava não é código. <strong class='text-cyan-400'>É informação privilegiada.</strong>",
    "section-problem-quote": "\"Eu não 'acho' que isso funciona. Eu tenho <strong>5 anos de gravações de entrevistas reais</strong> — minhas e dos meus alunos — em stacks variadas como <strong>QA, iOS, DevOps e Backend</strong>. Eu mapeei cada pergunta, cada objeção e cada resposta que gerou uma oferta em Dólar.\"",
    "section-problem-mentor-tag": "Compilador de Dados de Mercado",
    "method-title": "Reconhecimento de Padrões",
    "method-subtitle": "Eu não ensino 'dicas'. Eu ensino padrões extraídos de centenas de horas de filmagens reais.",
    "method-card-1-title": "Posicionamento",
    "method-card-1-text": "LinkedIn magnético e portfólio estratégico. Torne-se a opção óbvia para os recrutadores internacionais.",
    "method-card-2-title": "Inglês Técnico",
    "method-card-2-text": "Aprenda o inglês que aprova. Vocabulário para defender suas ideias e negociar com confiança.",
    "method-card-3-title": "Aprovação",
    "method-card-3-text": "Simulações baseadas em entrevistas reais. Saiba exatamente o que responder em cada etapa.",
    "proof-title": "Aprovação Auditável",
    "proof-subtitle": "Não são apenas prints. São carreiras transformadas. <b>Dúvida? Clique nos depoimentos e fale diretamente com os alunos.</b>",
    "proof-footer": "Dados extraídos do <a href='https://docs.google.com/document/d/1n4Tpy6o1B6RlUC-2Aiv0McErMCKlPtuqHP5INCLCBKs/edit?usp=sharing' target='_blank' class='text-cyan-600 hover:text-cyan-400 underline'>documento público de resultados</a>",
    "mentor-title": "Quem é seu mentor?",
    "mentor-p1": "Sou <a href='https://eu.robsoncassiano.software/' target='_blank' rel='noopener noreferrer' class='text-cyan-400 hover:text-cyan-300 transition-colors'><strong>Robson Cassiano</strong></a>. Atualmente na <b>Epic Games</b>. Ex-BTG Pactual, Founder da Simple Software Tryquetra e Professor de Inglês certificado (CELTA).",
    "mentor-p2": "Eu vivo o que ensino. Trabalho para clientes nos EUA e Europa, ganhando em moeda forte. Eu cansei de ver brasileiros talentosos ganhando pouco. Por isso criei este método.",
    "mentor-tag-1": "DEV desde 2018",
    "mentor-tag-2": "CELTA Cambridge",
    "mentor-tag-3": "Founder Simple Software",
    "guarantee-title": "Risco Zero",
    "guarantee-text": "Você tem 7 dias de garantia incondicional. Se não gostar, eu devolvo 100% do seu dinheiro. Sem perguntas.",
    "guarantee-cta": "Garantir minha vaga com segurança",
    "faq-title": "Dúvidas Frequentes",
    "faq-q1": "Para quem é a mentoria?",
    "faq-a1": "Focada em profissionais de TI (Devs, QAs, Data) que já tem experiência técnica (Sênior/Pleno) e querem migrar para o mercado internacional.",
    "faq-q2": "Preciso ser fluente em inglês?",
    "faq-a2": "Não. Você precisa de inglês técnico e estratégico para entrevistas. O método inclui módulos específicos para destravagem rápida da fala necessária.",
    "faq-q3": "Como funciona o pagamento?",
    "faq-a3": "Pagamento seguro via Hotmart. Aceitamos Pix, Boleto e Cartão de Crédito em até 12x.",
    "faq-q4": "A mentoria async é adequada para quem tem pouca experiência (estagiários ou juniores)?",
    "faq-a4": "Sim. O conteúdo é fundamentalista e atemporal, não dependendo de 'hypes' de mercado. O tempo atua a favor do iniciante: estudar e aplicar o método desde cedo facilita a disputa por vagas e acelera a maturação técnica necessária para posições globais.",
    "faq-q5": "Qual a diferença entre a 'Mentoria Async' e o modelo tradicional '1-on-1'?",
    "faq-a5": "<p>A Mentoria Async foca na eficiência e autonomia com suporte contínuo.</p><p><strong>O que inclui:</strong> Suporte e direcionamento direto pelo WhatsApp pessoal do mentor, acesso ao grupo de vagas e descontos exclusivos com professor nativo (EUA).</p><p><strong>O que não inclui:</strong> Agenda síncrona/reuniões agendadas 'one-on-one' (ex: chamadas de 1h).</p>",
    "faq-q6": "O método funciona para quem busca vagas no Brasil?",
    "faq-a6": "Sim. Aplica-se o princípio lógico de 'quem pode o mais, pode o menos'. Ao se preparar para processos de alta complexidade (como Amazon e vagas internacionais), você estará superqualificado para a grande maioria das posições no mercado doméstico.",
    "faq-q7": "Sou de outra stack (Python, C#, etc.). O conteúdo é focado apenas em Java?",
    "faq-a7": "<p>Não. Embora Java/Kotlin sejam as linguagens recomendadas para Software Engineers dentro do método, a preparação comportamental, estrutural e de entrevistas serve para qualquer área da tecnologia (incluindo QAs e Cientistas de Dados).</p><p><strong>Limite de Escopo:</strong> O método cobre desde o nível Júnior até o cargo de Tech Lead. Não cobre cargos gerenciais/executivos acima disso.</p>",
    "faq-q8": "Terei acesso a material de preparação para entrevistas?",
    "faq-a8": "Sim, 100% do material preparatório está incluso.",
    "faq-q9": "Por quanto tempo terei acesso ao conteúdo?",
    "faq-a9": "O acesso é vitalício. Isso garante que você receba todas as melhorias e atualizações futuras do treinamento, documentadas com base em novas evidências e provas reais do mercado.",
    "comments-title": "Comentários da Comunidade",
    "footer-rights": "&copy; 2025 SIMPLE SOFTWARE LTDA. Todos os direitos reservados.",
    "footer-terms": "Termos de Uso",
    "footer-youtube": "Canal Youtube",
    "footer-linkedin": "LinkedIn",
    "footer-portfolio": "Portfólio",
    "footer-newsletter": "Newsletter"
  },
  en: {
    "meta-title": "Global DEV Playbook | International Career Training",
    "meta-description": "Training for Senior DEVs to conquer international jobs in Dollar/Euro. Method validated in real interviews.",
    "cta-link": "https://pay.hotmart.com/G101388470S?off=en_US",
    "nav-home": "Home",
    "nav-method": "The Method",
    "nav-mentor": "Mentor",
    "nav-faq": "FAQ",
    "nav-cta": "Secure Spot",
    "hero-badge": "It's Not Luck. It's real data, evidence, and proof, auditable and replicable.",
    "hero-title": "Your Code is Worth <br /><span class='text-transparent bg-clip-text bg-gradient-to-r from-cyan-400 to-blue-600'>Dollar or Euro</span>",
    "hero-subtitle": "There is no 'I think'. There is what passes. Access the only method based on a <strong>5-year database of recorded interviews</strong> and auditable results for QA, iOS, DevOps, and Fullstack.",
    "hero-cta-primary": "Access the Training",
    "hero-cta-secondary": "See the Evidence",
    "proof-title": "Auditable Results",
    "proof-subtitle": "These aren't just screenshots. These are transformed careers. <b>Skeptical? Click the testimonials and talk directly to the students.</b>",
    "proof-footer": "Data extracted from the <a href='https://docs.google.com/document/d/1n4Tpy6o1B6RlUC-2Aiv0McErMCKlPtuqHP5INCLCBKs/edit?usp=sharing' target='_blank' class='text-cyan-600 hover:text-cyan-400 underline'>public results document</a>",
    "mentor-title": "Who is your mentor?",
    "mentor-p1": "I am <a href='https://eu.robsoncassiano.software/' target='_blank' rel='noopener noreferrer' class='text-cyan-400 hover:text-cyan-300 transition-colors'><strong>Robson Cassiano</strong></a>. Currently at <b>Epic Games</b>. Ex-BTG Pactual, Founder of Simple Software Tryquetra, and Cambridge certified English Teacher (CELTA).",
    "mentor-p2": "I live what I teach. I work for clients in the US and Europe, earning in strong currency. I got tired of seeing talented Brazilians earning little. That's why I created this method.",
    "mentor-tag-1": "DEV since 2018",
    "mentor-tag-2": "CELTA Cambridge",
    "mentor-tag-3": "Founder Simple Software",
    "guarantee-title": "Zero Risk",
    "guarantee-text": "You have a 7-day unconditional guarantee. If you don't like it, I'll refund 100% of your money. No questions asked.",
    "guarantee-cta": "Secure my spot safely",
    "faq-title": "Frequently Asked Questions",
    "faq-q1": "Who is the mentorship for?",
    "faq-a1": "Focused on IT professionals (Devs, QAs, Data) who already have technical experience (Senior/Mid) and want to migrate to the international market.",
    "faq-q2": "Do I need to be fluent in English?",
    "faq-a2": "No. You need technical and strategic English for interviews. The method includes specific modules for quickly unlocking the necessary speaking skills.",
    "faq-q3": "How does payment work?",
    "faq-a3": "Secure payment via Hotmart. We accept Pix, Bank Slip, and Credit Card in up to 12 installments.",
    "faq-q4": "Is the async mentorship suitable for those with little experience (interns or juniors)?",
    "faq-a4": "Yes. The content is fundamentalist and timeless, not depending on market 'hypes'. Time works in favor of the beginner: studying and applying the method early makes it easier to compete for jobs and accelerates technical maturity.",
    "faq-q5": "What is the difference between 'Async Mentorship' and the traditional '1-on-1' model?",
    "faq-a5": "<p>Async Mentorship focuses on efficiency and autonomy with continuous support.</p><p><strong>What's included:</strong> Support and direct guidance via the mentor's personal WhatsApp, access to the job group, and exclusive discounts with a native teacher (USA).</p><p><strong>What's not included:</strong> Synchronous schedule/scheduled 'one-on-one' meetings (e.g., 1h calls).</p>",
    "faq-q6": "Does the method work for those looking for jobs in Brazil?",
    "faq-a6": "Yes. The logical principle of 'he who can do more can do less' applies. By preparing for high-complexity processes (like Amazon and international jobs), you will be overqualified for most domestic positions.",
    "faq-q7": "I'm from another stack (Python, C#, etc.). Is the content focused only on Java?",
    "faq-a7": "<p>No. Although Java/Kotlin are the recommended languages for Software Engineers within the method, the behavioral, structural, and interview preparation works for any technology area (including QAs and Data Scientists).</p><p><strong>Scope limit:</strong> The method covers from Junior level up to Tech Lead. It does not cover management/executive roles above that.</p>",
    "faq-q8": "Will I have access to interview preparation material?",
    "faq-a8": "Yes, 100% of the preparatory material is included.",
    "faq-q9": "How long will I have access to the content?",
    "faq-a9": "Access is lifelong. This ensures you receive all future improvements and updates to the training, documented based on new evidence and real market proof.",
    "comments-title": "Community Comments",
    "footer-rights": "&copy; 2025 SIMPLE SOFTWARE LTDA. All rights reserved.",
    "footer-terms": "Terms of Use",
    "footer-youtube": "YouTube Channel",
    "footer-linkedin": "LinkedIn",
    "footer-portfolio": "Portfolio",
    "footer-newsletter": "Newsletter"
  }
};

// Mobile Menu logic
const mobileMenuButton = document.getElementById('mobile-menu-button');
const closeMobileMenuButton = document.getElementById('close-mobile-menu');
const mobileMenu = document.getElementById('mobile-menu');
const mobileNavLinks = document.querySelectorAll('.mobile-nav-link');

if (mobileMenuButton && closeMobileMenuButton && mobileMenu) {
  mobileMenuButton.addEventListener('click', () => {
    mobileMenu.classList.add('open');
  });

  closeMobileMenuButton.addEventListener('click', () => {
    mobileMenu.classList.remove('open');
  });

  mobileNavLinks.forEach(link => {
    link.addEventListener('click', () => {
      mobileMenu.classList.remove('open');
    });
  });
}

// i18n Logic
const getPreferredLanguage = () => {
  const urlParams = new URLSearchParams(window.location.search);
  const langParam = urlParams.get('lang');
  if (langParam) {
    const baseLang = langParam.split('-')[0];
    if (translations[baseLang]) {
      return baseLang;
    }
  }

  const saved = localStorage.getItem('preferred-lang');
  if (saved) return saved;
  const browserLang = navigator.language.split('-')[0];
  return translations[browserLang] ? browserLang : 'pt';
};

let currentLang = getPreferredLanguage();

const updateContent = (lang) => {
  document.querySelectorAll('[data-i18n]').forEach(el => {
    const key = el.getAttribute('data-i18n');
    if (translations[lang] && translations[lang][key]) {
      if (el.tagName === 'INPUT' || el.tagName === 'TEXTAREA') {
        el.placeholder = translations[lang][key];
      } else {
        el.innerHTML = translations[lang][key];
      }
    }
  });

  // Update Hrefs
  document.querySelectorAll('[data-i18n-href]').forEach(el => {
    const key = el.getAttribute('data-i18n-href');
    if (translations[lang] && translations[lang][key]) {
      el.href = translations[lang][key];
    }
  });

  // Update Meta Tags
  if (translations[lang]) {
    document.title = translations[lang]['meta-title'];
    const metaDesc = document.querySelector('meta[name="description"]');
    if (metaDesc) metaDesc.setAttribute('content', translations[lang]['meta-description']);
  }

  document.documentElement.lang = lang === 'pt' ? 'pt-BR' : 'en';

  // Update switcher buttons state - using border and text colors
  document.querySelectorAll('.lang-btn').forEach(btn => {
    if (btn.getAttribute('data-lang') === lang) {
      btn.classList.add('text-cyan-400', 'border-cyan-400');
      btn.classList.remove('text-slate-400', 'border-transparent');
    } else {
      btn.classList.remove('text-cyan-400', 'border-cyan-400');
      btn.classList.add('text-slate-400', 'border-transparent');
    }
  });
};

const setLanguage = (lang) => {
  currentLang = lang;
  localStorage.setItem('preferred-lang', lang);
  updateContent(lang);
};

// Initialize
const init = () => {
  updateContent(currentLang);

  // Use event delegation for language buttons to be more robust
  document.addEventListener('click', (e) => {
    const btn = e.target.closest('.lang-btn');
    if (btn) {
      const lang = btn.getAttribute('data-lang');
      if (lang) setLanguage(lang);
    }
  });
};

if (document.readyState === 'loading') {
  document.addEventListener('DOMContentLoaded', init);
} else {
  init();
}
